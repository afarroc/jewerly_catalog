{% extends 'home/base.html' %}

{% block title %}
    {% if category %}{{ category.name }}{% else %}Products{% endif %}
{% endblock %}

{% block content %}
    <div class="products-layout">
        <!-- Sidebar -->
        <aside class="products-sidebar">
            <div class="sidebar-content">
                <h3 class="sidebar-heading">
                    <i class="fas fa-filter"></i>Categories
                </h3>
                <nav class="category-nav">
                    <a href="{% url 'products:product_list' %}" {% if not category %}class="active"{% endif %}>
                        <i class="fas fa-th-large"></i>All Categories
                    </a>
                    {% for c in categories %}
                    <a href="{% url 'products:product_list_by_category' c.slug %}" {% if category.slug == c.slug %}class="active"{% endif %}>
                        <i class="fas fa-tag"></i>{{ c.name }}
                    </a>
                    {% endfor %}
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="products-main">
            <header class="products-header">
                <h1 class="products-title">
                    {% if category %}
                        <i class="fas fa-gem"></i>{{ category.name }}
                    {% else %}
                        <i class="fas fa-store"></i>All Products
                    {% endif %}
                </h1>
                <p class="products-subtitle">
                    {% if category %}
                        Discover our beautiful {{ category.name|lower }} collection
                    {% else %}
                        Explore our complete collection of handcrafted jewelry
                    {% endif %}
                </p>
            </header>

            <div class="products-grid">
                {% for product in products %}
                    {% include 'products/_product_card.html' %}
                {% empty %}
                <div class="empty-state">
                    <i class="fas fa-gem"></i>
                    <h3>No products found</h3>
                    <p>We couldn't find any products in this category. Try exploring other categories or check back later.</p>
                    <a href="{% url 'products:product_list' %}" class="btn primary-btn">
                        <i class="fas fa-arrow-left"></i>View All Products
                    </a>
                </div>
                {% endfor %}
            </div>
        </main>
    </div>
{% endblock %}